<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - CPR Training Hub</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .docs-layout {
            display: grid;
            grid-template-columns: 250px 1fr;
            min-height: 100vh;
        }
        .docs-sidebar {
            background: #f9fafb;
            padding: 2rem;
            border-right: 1px solid #e5e7eb;
        }
        .docs-nav-item {
            display: block;
            padding: 0.5rem 1rem;
            margin-bottom: 0.25rem;
            border-radius: 0.375rem;
            text-decoration: none;
            color: #374151;
            font-size: 0.875rem;
        }
        .docs-nav-item:hover {
            background: #e5e7eb;
        }
        .docs-nav-item.active {
            background: #e0e7ff;
            color: #3730a3;
            font-weight: 500;
        }
        .docs-content {
            padding: 3rem;
            max-width: 900px;
        }
        .endpoint-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
        }
        .method-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            font-weight: 600;
            font-size: 0.875rem;
        }
        .method-get {
            background: #d1fae5;
            color: #065f46;
        }
        .method-post {
            background: #dbeafe;
            color: #1e40af;
        }
        .method-put {
            background: #fef3c7;
            color: #92400e;
        }
        .method-delete {
            background: #fee2e2;
            color: #991b1b;
        }
        .endpoint-path {
            font-family: monospace;
            font-size: 1rem;
            color: #1f2937;
        }
        .endpoint-body {
            padding: 1.5rem;
        }
        .code-block {
            background: #1a202c;
            color: #e5e7eb;
            padding: 1rem;
            border-radius: 0.375rem;
            font-family: monospace;
            font-size: 0.875rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        .param-table {
            width: 100%;
            margin: 1rem 0;
        }
        .param-table th {
            text-align: left;
            padding: 0.75rem;
            background: #f9fafb;
            border-bottom: 1px solid #e5e7eb;
            font-weight: 600;
            color: #374151;
        }
        .param-table td {
            padding: 0.75rem;
            border-bottom: 1px solid #f3f4f6;
        }
        .param-name {
            font-family: monospace;
            color: #dc2626;
        }
        .param-type {
            color: #6b7280;
            font-size: 0.875rem;
        }
        .webhook-event {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }
        .api-key-section {
            background: #fef3c7;
            border: 1px solid #fde68a;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .rate-limit-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: #f3f4f6;
            color: #6b7280;
            border-radius: 0.375rem;
            font-size: 0.75rem;
        }
        
        /* Mobile Responsive Styles */
        @media (max-width: 1024px) {
            .docs-layout {
                grid-template-columns: 1fr;
            }
            .docs-sidebar {
                position: fixed;
                left: -300px;
                top: 0;
                bottom: 0;
                width: 280px;
                z-index: 1000;
                transition: left 0.3s;
                box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            }
            .docs-sidebar.active {
                left: 0;
            }
            .mobile-docs-header {
                display: flex;
                align-items: center;
                padding: 1rem;
                background: white;
                position: sticky;
                top: 0;
                z-index: 100;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                margin-bottom: 1rem;
            }
        }
        
        @media (max-width: 768px) {
            .docs-content {
                padding: 1rem;
            }
            .endpoint-header {
                flex-wrap: wrap;
                padding: 1rem;
            }
            .endpoint-path {
                font-size: 0.875rem;
                word-break: break-all;
            }
            .endpoint-body {
                padding: 1rem;
            }
            .code-block {
                padding: 0.75rem;
                font-size: 0.75rem;
            }
            .param-table {
                font-size: 0.875rem;
            }
            .param-table th,
            .param-table td {
                padding: 0.5rem;
            }
            .webhook-event {
                padding: 1rem;
            }
            .api-key-section {
                padding: 1rem;
            }
        }
        
        @media (max-width: 480px) {
            .endpoint-card {
                border-radius: 0;
                border-left: none;
                border-right: none;
            }
            .code-block {
                font-size: 0.7rem;
                padding: 0.5rem;
                border-radius: 0;
            }
            .method-badge {
                font-size: 0.75rem;
                padding: 0.2rem 0.5rem;
            }
            .param-table {
                display: block;
                overflow-x: auto;
            }
            .rate-limit-badge {
                font-size: 0.7rem;
                padding: 0.2rem 0.5rem;
            }
        }
        
        /* Mobile sidebar toggle */
        .mobile-docs-toggle {
            display: none;
            background: #3b82f6;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            align-items: center;
            gap: 0.5rem;
        }
        
        @media (max-width: 1024px) {
            .mobile-docs-toggle {
                display: inline-flex;
            }
            .mobile-docs-header {
                display: block;
            }
        }
        
        /* Hide mobile header on desktop */
        .mobile-docs-header {
            display: none;
        }
        
        /* Overlay for mobile sidebar */
        .docs-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 999;
        }
        
        .docs-overlay.active {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Mobile Docs Header -->
    <div class="mobile-docs-header">
        <button class="mobile-docs-toggle" onclick="toggleDocsSidebar()">
            <span class="material-icons">menu</span>
            <span>API Reference</span>
        </button>
    </div>
    
    <!-- Docs Overlay -->
    <div class="docs-overlay" onclick="closeDocsSidebar()"></div>
    
    <div class="docs-layout">
        <div class="docs-sidebar">
            <h2 style="margin-bottom: 2rem;">API Reference</h2>
            
            <h3 style="font-size: 0.875rem; text-transform: uppercase; color: #6b7280; margin-bottom: 1rem;">Getting Started</h3>
            <a href="#" class="docs-nav-item active">Authentication</a>
            <a href="#" class="docs-nav-item">Rate Limits</a>
            <a href="#" class="docs-nav-item">Errors</a>
            
            <h3 style="font-size: 0.875rem; text-transform: uppercase; color: #6b7280; margin: 2rem 0 1rem;">Endpoints</h3>
            <a href="#" class="docs-nav-item">Classes</a>
            <a href="#" class="docs-nav-item">Students</a>
            <a href="#" class="docs-nav-item">Instructors</a>
            <a href="#" class="docs-nav-item">Organizations</a>
            <a href="#" class="docs-nav-item">Certifications</a>
            <a href="#" class="docs-nav-item">Payments</a>
            
            <h3 style="font-size: 0.875rem; text-transform: uppercase; color: #6b7280; margin: 2rem 0 1rem;">Webhooks</h3>
            <a href="#" class="docs-nav-item">Events</a>
            <a href="#" class="docs-nav-item">Security</a>
            
            <h3 style="font-size: 0.875rem; text-transform: uppercase; color: #6b7280; margin: 2rem 0 1rem;">SDKs</h3>
            <a href="#" class="docs-nav-item">JavaScript</a>
            <a href="#" class="docs-nav-item">Python</a>
            <a href="#" class="docs-nav-item">PHP</a>
        </div>

        <div class="docs-content">
            <h1>API Documentation</h1>
            <p style="color: #6b7280; margin-bottom: 2rem;">Build powerful integrations with the CPR Training Hub platform</p>

            <div class="api-key-section">
                <h3 style="margin-bottom: 0.5rem;"><span class="material-icons" style="vertical-align: middle; margin-right: 0.5rem;">vpn_key</span>API Keys</h3>
                <p style="margin-bottom: 1rem;">Get your API keys from the Admin Dashboard → Settings → API Access</p>
                <div class="code-block" style="background: white; color: black; border: 1px solid #fde68a;">
                    <strong>Test API Key:</strong> sk_test_[your-test-key-here]<br>
                    <strong>Live API Key:</strong> sk_live_[your-live-key-here]
                </div>
            </div>

            <h2>Authentication</h2>
            <p>The CPR Training Hub API uses API keys to authenticate requests. Include your API key in the Authorization header:</p>
            
            <div class="code-block">
curl https://api.cprtraininghub.com/v1/classes \
  -H "Authorization: Bearer [your-api-key]"
            </div>

            <h2 style="margin-top: 3rem;">Classes API</h2>

            <!-- List Classes -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method-badge method-get">GET</span>
                    <span class="endpoint-path">/v1/classes</span>
                    <span class="rate-limit-badge">Rate limit: 100/hour</span>
                </div>
                <div class="endpoint-body">
                    <p>Retrieve a list of available classes with optional filtering.</p>
                    
                    <h4>Query Parameters</h4>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="param-name">location</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>Filter by city, state, or zip code</td>
                            </tr>
                            <tr>
                                <td><span class="param-name">radius</span></td>
                                <td><span class="param-type">integer</span></td>
                                <td>Search radius in miles (default: 25)</td>
                            </tr>
                            <tr>
                                <td><span class="param-name">course_type</span></td>
                                <td><span class="param-type">string</span></td>
                                <td>Filter by course type (BLS, ACLS, PALS, etc.)</td>
                            </tr>
                            <tr>
                                <td><span class="param-name">date_from</span></td>
                                <td><span class="param-type">ISO 8601</span></td>
                                <td>Start date for date range filter</td>
                            </tr>
                        </tbody>
                    </table>

                    <h4>Example Response</h4>
                    <div class="code-block">
{
  "data": [
    {
      "id": "cls_1a2b3c4d",
      "course_type": "BLS",
      "title": "BLS Provider Course",
      "instructor": {
        "id": "ins_5e6f7g8h",
        "name": "Dr. Sarah Johnson"
      },
      "location": {
        "venue": "UCSF Medical Center",
        "address": "505 Parnassus Ave",
        "city": "San Francisco",
        "state": "CA",
        "zip": "94143"
      },
      "schedule": {
        "date": "2025-03-08",
        "start_time": "09:00",
        "end_time": "13:00"
      },
      "capacity": 20,
      "enrolled": 15,
      "price": 85.00,
      "status": "open"
    }
  ],
  "meta": {
    "total": 45,
    "page": 1,
    "per_page": 20
  }
}
                    </div>
                </div>
            </div>

            <!-- Create Class -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method-badge method-post">POST</span>
                    <span class="endpoint-path">/v1/classes</span>
                    <span class="rate-limit-badge">Rate limit: 20/hour</span>
                </div>
                <div class="endpoint-body">
                    <p>Create a new class listing. Requires instructor or admin authentication.</p>
                    
                    <h4>Request Body</h4>
                    <div class="code-block">
{
  "course_type": "BLS",
  "title": "Weekend BLS Provider Course",
  "instructor_id": "ins_5e6f7g8h",
  "location": {
    "venue": "Downtown Training Center",
    "address": "123 Main St",
    "city": "San Francisco",
    "state": "CA",
    "zip": "94102"
  },
  "schedule": {
    "date": "2025-03-15",
    "start_time": "09:00",
    "end_time": "13:00"
  },
  "capacity": 20,
  "price": 85.00,
  "requirements": [
    "Healthcare provider verification required",
    "Must complete online portion before class"
  ]
}
                    </div>
                </div>
            </div>

            <!-- Student Enrollment -->
            <div class="endpoint-card">
                <div class="endpoint-header">
                    <span class="method-badge method-post">POST</span>
                    <span class="endpoint-path">/v1/enrollments</span>
                    <span class="rate-limit-badge">Rate limit: 10/hour</span>
                </div>
                <div class="endpoint-body">
                    <p>Enroll a student in a class and process payment.</p>
                    
                    <h4>Request Body</h4>
                    <div class="code-block">
{
  "class_id": "cls_1a2b3c4d",
  "student": {
    "first_name": "John",
    "last_name": "Smith",
    "email": "john.smith@example.com",
    "phone": "+14155551234",
    "healthcare_role": "RN"
  },
  "payment_method_id": "pm_1234567890",
  "promo_code": "SAVE10"
}
                    </div>
                </div>
            </div>

            <h2 style="margin-top: 3rem;">Webhook Events</h2>
            <p>Configure webhooks to receive real-time notifications about events in your account.</p>

            <div class="webhook-event">
                <h4>class.created</h4>
                <p>Triggered when a new class is created by an instructor.</p>
                <div class="code-block">
{
  "id": "evt_1a2b3c4d",
  "type": "class.created",
  "created": "2025-03-01T10:30:00Z",
  "data": {
    "class_id": "cls_1a2b3c4d",
    "instructor_id": "ins_5e6f7g8h",
    "course_type": "BLS"
  }
}
                </div>
            </div>

            <div class="webhook-event">
                <h4>enrollment.completed</h4>
                <p>Triggered when a student successfully enrolls in a class.</p>
                <div class="code-block">
{
  "id": "evt_2b3c4d5e",
  "type": "enrollment.completed",
  "created": "2025-03-01T11:45:00Z",
  "data": {
    "enrollment_id": "enr_9z8y7x6w",
    "class_id": "cls_1a2b3c4d",
    "student_id": "stu_4d5e6f7g",
    "payment_status": "paid"
  }
}
                </div>
            </div>

            <div class="webhook-event">
                <h4>certification.issued</h4>
                <p>Triggered when a certification is issued to a student.</p>
                <div class="code-block">
{
  "id": "evt_3c4d5e6f",
  "type": "certification.issued",
  "created": "2025-03-01T14:00:00Z",
  "data": {
    "certification_id": "cert_7x6w5v4u",
    "student_id": "stu_4d5e6f7g",
    "course_type": "BLS",
    "expires_at": "2027-03-01T14:00:00Z"
  }
}
                </div>
            </div>

            <h2 style="margin-top: 3rem;">Rate Limits</h2>
            <p>API rate limits vary by endpoint and authentication level:</p>
            
            <table class="param-table">
                <thead>
                    <tr>
                        <th>Endpoint Category</th>
                        <th>Standard Limit</th>
                        <th>Enterprise Limit</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Read Operations</td>
                        <td>100 requests/hour</td>
                        <td>1000 requests/hour</td>
                    </tr>
                    <tr>
                        <td>Write Operations</td>
                        <td>20 requests/hour</td>
                        <td>200 requests/hour</td>
                    </tr>
                    <tr>
                        <td>Bulk Operations</td>
                        <td>5 requests/hour</td>
                        <td>50 requests/hour</td>
                    </tr>
                </tbody>
            </table>

            <div style="margin-top: 3rem; padding: 1.5rem; background: #eff6ff; border-radius: 0.5rem;">
                <h3>Need Help?</h3>
                <p>Check out our <a href="#">API Tutorial</a> or contact our developer support team at api@cprtraininghub.com</p>
            </div>
        </div>
    </div>
    
    <script>
        function toggleDocsSidebar() {
            const sidebar = document.querySelector('.docs-sidebar');
            const overlay = document.querySelector('.docs-overlay');
            
            sidebar.classList.toggle('active');
            overlay.classList.toggle('active');
        }
        
        function closeDocsSidebar() {
            document.querySelector('.docs-sidebar').classList.remove('active');
            document.querySelector('.docs-overlay').classList.remove('active');
        }
        
        // Handle window resize
        window.addEventListener('resize', function() {
            if (window.innerWidth > 1024) {
                closeDocsSidebar();
            }
        });
    </script>
</body>
</html>